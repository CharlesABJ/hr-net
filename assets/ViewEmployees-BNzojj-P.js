import{j as e,r as d,e as g,a as v,b as C,L as S}from"./index-B19XwGCY.js";import{T as D}from"./TitleAndDescription-DR2AI1oV.js";function E({columns:t,rows:s,sortConfig:n,handleSort:i,handleDetails:r}){return e.jsxs("table",{className:"Table",children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(a=>e.jsx("th",{onClick:()=>i(a.key),children:e.jsx("span",{className:n.key===a.key&&n.direction?n.direction+" label":"label",children:a.label})},a.key))})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{className:"no-records",colSpan:t.length,children:"There are no records to display"})}):s.map((a,o)=>e.jsx("tr",{onClick:()=>r(a),children:t.map(c=>c.key==="state"?e.jsx("td",{title:a.state,children:a.stateAbbr},c.key):e.jsx("td",{children:a[c.key]},c.key))},o))})]})}const A=[{label:"First Name",key:"firstName"},{label:"Last Name",key:"lastName"},{label:"Start Date",key:"startDate"},{label:"Department",key:"department"},{label:"Date of Birth",key:"dateOfBirth"},{label:"State",key:"state"},{label:"City",key:"city"},{label:"Zip Code",key:"zipCode"},{label:"Street",key:"street"}];function M({placeholder:t,name:s,value:n,onChange:i}){const r=()=>{i("")},a=e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",children:e.jsx("path",{d:"M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z"})});return e.jsxs("div",{className:"input-container SearchInput",children:[e.jsx("div",{className:"search-icon",children:a}),e.jsx("input",{placeholder:t,type:"text",id:s,name:s,value:n,onChange:o=>i(o.target.value)}),n.length>0&&e.jsxs("div",{onClick:r,className:"cross",children:[e.jsx("span",{}),e.jsx("span",{})]})]})}function L(t,s){return d.useMemo(()=>s?t.filter(n=>Object.values(n).some(i=>String(i).toLowerCase().includes(s.toLowerCase()))):t,[t,s])}function I(t,s){return d.useMemo(()=>s.key?[...t].sort((n,i)=>{const r=n[s.key],a=i[s.key],o=Number(r),c=Number(a);let l;return!isNaN(o)&&!isNaN(c)?l=o-c:l=r.localeCompare(a),l<0?s.direction==="asc"?-1:1:l>0?s.direction==="asc"?1:-1:0}):t,[t,s])}function z(t,s=10){const[n,i]=d.useState(1),r=d.useMemo(()=>s==="All"?1:Math.ceil(t.length/s),[t.length,s]),a=d.useMemo(()=>{if(!t)return[];if(s==="All")return t;const o=(n-1)*s,c=o+s;return t.slice(o,c)},[t,s,n]);return{currentPage:n,setCurrentPage:i,totalPages:r,paginatedRows:a}}function T({searchedRows:t,rowsPerPage:s,setRowsPerPage:n,setCurrentPage:i,currentPage:r,totalPages:a}){const c=[10,20,30,40,50].filter(l=>l<=t.length);return t.length>10&&c.push("All"),t.length===0?null:e.jsxs("div",{className:"Pagination",children:[t.length>9&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Rows per page :"}),e.jsx("select",{className:"select",value:s,onChange:l=>{const m=l.target.value==="All"?"All":Number(l.target.value);n(m),i(1)},children:c.map(l=>e.jsx("option",{value:l,children:l},l))})]}),s!=="All"&&e.jsxs("div",{className:"pages",children:[e.jsx("button",{className:"prev",disabled:r===1,onClick:()=>i(l=>l-1),children:"Prev"}),e.jsxs("span",{children:["Page ",r," of ",a]}),e.jsx("button",{className:"next",disabled:r===a,onClick:()=>i(l=>l+1),children:"Next"})]})]})}function R(){const[t,s]=d.useState({key:null,direction:""}),[n,i]=d.useState(""),[r,a]=d.useState(10),o=g(),{data:c=[]}=v(),m=[...C(u=>u.employees.employeesList),...c],x=u=>{let h="asc";t.key===u&&(t.direction==="asc"?h="desc":t.direction==="desc"?h="":h="asc"),s({key:h===""?null:u,direction:h})},p=L(m,n),y=I(p,t),{currentPage:j,setCurrentPage:N,totalPages:b,paginatedRows:k}=z(y,r),f=u=>{o(`/view-employees/employees/${u.employeeId}`)};return e.jsxs("main",{className:"ViewEmployees",children:[e.jsx(D,{title:"View Current Employees",children:"Manage and view all employee records"}),m.length===0?e.jsxs(S,{className:"empty-employees",to:"/create-employee",children:[e.jsx("span",{className:"title",children:"No employees found"}),e.jsx("span",{className:"description",children:"Start by adding your first employee to the system."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filters-zone",children:e.jsx(M,{placeholder:"Search",name:"search",value:n,onChange:i})}),e.jsx("div",{className:"table-zone",children:e.jsx(E,{columns:A,rows:k,sortConfig:t,handleDetails:f,handleSort:x})}),e.jsx(T,{searchedRows:p,rowsPerPage:r,setRowsPerPage:a,setCurrentPage:N,currentPage:j,totalPages:b})]})]})}export{R as default};
